# 记忆管理脚本使用说明

## 功能概述

这是一个功能强大的记忆管理脚本，为 SillyTavern 提供智能的对话总结和管理功能。

## 主要功能

### 1. 自动总结
- **功能**：根据设定的间隔自动总结对话内容
- **设置**：在设置页面配置总结间隔（默认每5层楼总结一次）
- **触发**：当达到设定楼层数时自动触发
- **存储**：总结内容保存在聊天变量中，可随时查看

### 2. 手动总结
- **功能**：手动指定楼层范围进行总结
- **使用**：在设置页面输入开始和结束楼层，点击"开始总结"
- **灵活**：可以总结任意范围的对话内容

### 3. 历史总结查看
- **功能**：查看所有已保存的总结记录
- **界面**：在"总结"标签页中浏览历史总结
- **管理**：可以查看、复制或删除历史总结

### 4. 表格生成
- **功能**：将对话内容转换为结构化表格数据
- **配置**：自定义表格列头模板
- **AI驱动**：使用AI智能提取相关信息填入表格
- **导出**：支持复制表格数据到剪贴板

### 5. 去八股工具
- **功能**：去除AI回复中的刻板化表达
- **输入**：粘贴需要处理的文本
- **处理**：AI自动优化表达方式
- **输出**：获得更自然、个性化的回复

### 6. 角色卡生成
- **功能**：基于描述生成完整的角色卡
- **格式**：输出标准YAML格式的角色卡
- **详细**：包含外貌、性格、背景等全方位信息
- **修改**：支持AI修改现有角色卡

## 安装方法

### 方法1：导入JSON文件（推荐）
1. 下载 `记忆管理.json` 文件
2. 在 SillyTavern 的酒馆助手中导入该文件
3. 脚本会自动从CDN加载最新版本

### 方法2：手动创建
1. 在酒馆助手中新建脚本
2. 设置脚本ID：`mzrodyu-memory-management`
3. 设置脚本名称：`mzrodyu猫猫的小破烂`
4. 设置脚本内容：`import 'https://testingcf.jsdelivr.net/gh/2944461376/mzrodyu-/index.js'`

## 配置说明

### API设置
- **API端点**：你的AI API地址
- **API密钥**：对应的API密钥
- **模型名称**：选择使用的AI模型
- **最大Token数**：建议4000以上获得更详细的总结
- **温度**：控制AI回复的随机性（0-2）

### 自动总结设置
- **启用自动总结**：开启/关闭自动总结功能
- **总结间隔**：设置每多少层楼总结一次
- **起始楼层**：自动总结的起始位置

## 使用技巧

1. **首次使用**：建议先配置API设置，然后测试手动总结功能
2. **自动总结**：开启后会在达到设定楼层时自动触发
3. **表格生成**：可以自定义列头模板，让AI更准确地提取信息
4. **角色卡**：生成的YAML格式可以直接用于角色卡导入
5. **去八股**：特别适合处理AI回复中的刻板化表达

## 注意事项

- 确保API配置正确，否则功能无法正常使用
- 总结内容会占用聊天变量存储空间
- 建议定期清理不需要的历史总结
- 表格生成需要提供清晰的列头模板

## 更新说明

脚本会定期更新，新版本会自动通过CDN推送。如需手动更新，请重新导入JSON文件。

## 技术支持

如有问题或建议，请通过GitHub Issues反馈。

---

**版本**：1.0.0
**作者**：mzrodyu猫猫的小破烂
**更新时间**：2025-01-29
